# Quantum Neural Network for Cybersecurity Analysis

## demo:
- https://youtu.be/GAqObPqVGdQ

## 📌 專案說明

本專案使用量子計算與量子神經網絡（Quantum Neural Network, QNN）技術，分析並預測網路安全攻擊模式，尤其專注於識別零日（Zero-day）攻擊行為。

## 📂 專案結構

| 文件名稱                          | 說明                                                            |
| --------------------------------- | --------------------------------------------------------------- |
| `Zero_Day_Attack_Prediction.qasm` | main.py 生成量子電路版本                                        |
| `for_ibm.qasm`                    | 適用於 IBM Quantum 服務的 QASM 格式電路，可用 api 做 cron job。 |
| `main.py`                         | 量子神經網絡的核心程式碼，用於訓練與預測攻擊模式。              |
| `next_phase.py`                   | 下一階段開發計畫的程式碼草稿，包含進階功能規劃。                |
| `requirements.txt`                | 專案 Python 依賴套件列表。                                      |

## 實際測量：

<img width="1280" alt="Screenshot 2025-03-28 at 9 57 53 AM" src="https://github.com/user-attachments/assets/face2e38-d192-4bfe-8fcf-eabfc648db59" />

<img width="361" alt="Screenshot 2025-03-28 at 12 00 11 PM" src="https://github.com/user-attachments/assets/0afade46-34c7-475e-b11a-a3f3d4580c18" />

   # IBM Quantum 測量結果分析(上圖）

## 分析方法
- 該 bitstring 的每個 qubit 值（q[6] ~ q[0]）
  - **qubit[0] 的值（最右邊）** → 是 0 還是 1
  - 根據 qubit[0] 的值，分類為 **Zero-Day** 或 **Known Attack**
  - 顯示該結果的出現次數（Frequency）

## ✅ 逐筆分析結果
| Bitstring | Qubit Values            | Qubit[0] | 判定結果   | 次數 |
|-----------|-------------------------|----------|------------|------|
| 1000101   | q[6]=1 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 2    |
| 1000011   | q[6]=1 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 7    |
| 1000001   | q[6]=1 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 5    |
| 0111111   | q[6]=0 q[5]=1 ... q[0]=1 | 1        | Zero-Day   | 2    |
| 0111101   | q[6]=0 q[5]=1 ... q[0]=1 | 1        | Zero-Day   | 3    |
| 0111011   | q[6]=0 q[5]=1 ... q[0]=1 | 1        | Zero-Day   | 13   |
| 0111000   | q[6]=0 q[5]=1 ... q[0]=0 | 0        | Known      | 10   |
| 0110110   | q[6]=0 q[5]=1 ... q[0]=0 | 0        | Known      | 5    |
| 0110100   | q[6]=0 q[5]=1 ... q[0]=0 | 0        | Known      | 4    |
| 0110001   | q[6]=0 q[5]=1 ... q[0]=1 | 1        | Zero-Day   | 4    |
| 0101111   | q[6]=0 q[5]=1 ... q[0]=1 | 1        | Zero-Day   | 2    |
| 0101100   | q[6]=0 q[5]=1 ... q[0]=0 | 0        | Known      | 3    |
| 0101010   | q[6]=0 q[5]=1 ... q[0]=0 | 0        | Known      | 7    |
| 0101000   | q[6]=0 q[5]=1 ... q[0]=0 | 0        | Known      | 6    |
| 0100110   | q[6]=0 q[5]=1 ... q[0]=0 | 0        | Known      | 1    |
| 0100010   | q[6]=0 q[5]=1 ... q[0]=0 | 0        | Known      | 3    |
| 0011111   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 8    |
| 0011101   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 5    |
| 0011011   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 3    |
| 0011001   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 7    |
| 0010111   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 14   |
| 0010101   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 9    |
| 0010011   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 5    |
| 0010001   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 2    |
| 0001111   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 2    |
| 0001101   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 11   |
| 0001011   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 5    |
| 0001001   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 2    |
| 0000111   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 3    |
| 0000011   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 6    |
| 0000001   | q[6]=0 q[5]=0 ... q[0]=1 | 1        | Zero-Day   | 6    |
| 0000000   | q[6]=0 q[5]=0 ... q[0]=0 | 0        | Known      | 5    |

## 🔢 Qubit[0] 結果分佈統計
| Qubit[0] | 意義          | 出現次數 |
|----------|---------------|----------|
| 1        | Zero-Day      | 165      |
| 0        | Known Attack  | 49       |
| **總計** |               | **214**  |

## 最終模型判斷
- **P(|1⟩) = 0.771** → 高於 0.5  
- **推斷結果**：**「Zero-Day 攻擊」🚨**
### 環境建置


## 🚀 快速開始

```bash
pip install -r requirements.txt
```

### 運行程式

```bash
python main.py
```

程式運行後，會在終端機輸出：

- 目前台北時間
- 預測的攻擊模式結果
- 訓練後最終參數

同時，量子電路會保存到以下 QASM 文件：

- `Zero_Day_Attack_Prediction.qasm`

## 🔮 量子電路設計

此量子電路旨在透過量子狀態編碼安全攻擊的特徵，進而識別攻擊模式：

- **量子位元數**：5 量子位元 (Qubits)
- **量子閘設計**：
  - **初始狀態編碼**：`RX` 閘，編碼攻擊特徵。
  - **參數化旋轉**：`RY` 閘，透過訓練學習參數。
  - **量子糾纏**：`CNOT` 閘，建立特徵交互作用。
  - **狀態反轉**：`X` 閘，調整最終狀態以利測量。
- **測量策略**：
  - 測量第 0 個量子位元，根據其量子態機率判定攻擊是否屬於零日攻擊：
    - 若 `P(|1⟩)` 接近 `1`，則可能為零日攻擊。
    - 若 `P(|1⟩)` 接近 `0`，則為已知攻擊。

## 📋 使用特徵說明

| 特徵名稱   | 說明            | 範例                |
| ---------- | --------------- | ------------------- |
| 攻擊時間   | timestamp       | `2025-03-14T03:05Z` |
| 來源 IP    | source_ip       | `238.54.8.212`      |
| 攻擊類型   | attack_type     | `SQL Injection`     |
| 是否被攔截 | blocked         | `true` 或 `false`   |
| 攔截方式   | blocking_method | `IP Blacklisting`   |

## 🧩 下一階段規劃 (`next_phase.py`)

### 📌 特徵擴充（7 維度）

更豐富的特徵向量，提供精準的零日攻擊偵測：

- 攻擊類型（SQL Injection, DDoS, XSS 等）
- 來源 IP
- 時間戳記
- 地理位置
- 攻擊模式（Flooding, Sniffing 等）
- 歷史發生頻率
- 受害端類型（API, Web, Network 等）
- gate 修正

### 📌 參數持久化儲存

- 採用 JSON 格式儲存訓練完成的模型參數。
- 程式啟動時自動讀取歷史參數，加速訓練流程。

### 📌 量子糾纏與非線性互動增強

- 使用 `CNOT` 與額外的旋轉門 (`RY`、`RZ`) 強化量子糾纏效果，提升模型的非線性分類能力。

### 📌 真實攻擊場景應用

- 使用真實的網路攻擊數據替換現有模擬資料。
- 模型輸出可整合至現有的防火牆及入侵偵測系統（IDS）中，協助安全管理決策。

## 📖 參考資料

- [Qiskit 官方文件](https://qiskit.org/documentation/)
- [QASM 2.0 規範](https://arxiv.org/abs/1707.03429)

© 2025 Quantum Cybersecurity Analysis Project
